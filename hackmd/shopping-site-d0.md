# 從0開始做一個購物網站-架構整理 Day-0
###### tags: `從0開始做一個購物網站`
> 撰寫時間: 2023/08/23

[TOC]

## 零、前言
本系列將會記錄如何從無到有建立一個購物網站，不定期更新，但會盡量控制在一個禮拜內，因此文章標題仍以`Day-天數`紀錄。~~如果超過一個禮拜沒更新 大概率是做不下去了~~

此專案的Github連結: [https://github.com/AloneAlongLife/shopping-demo](https://github.com/AloneAlongLife/shopping-demo)

Github的更新進度跟本系列**不會同步**，因為經驗的關係，專案的步驟對於新手可能會顯得有些無厘頭(例如第一個步驟就是先將設定檔寫好，但必須要先用過個套件後才會知道需要那些設定)，因此不會依照開發進度撰寫文章，所以可能會出現文章中的東西在專案裡沒有，或是專案中的語法在文章中沒有提到，還請耐心等待、多多包涵。

然後文章中有些語法我也不知道為甚麼~~就是抄來的~~，所以只會講個大概，或是我自己的理解，也歡迎各位進行補充、指正。

## 壹、語言與框架
### 一、前端
 - 語言
     - TypeScript(TSX)
     - SCSS
 - 框架
     - React

### 二、後端
 - 語言
     - Python(>=3.10)
 - 框架
     - FastAPI

### 三、資料庫
由於是使用ORM的模組進行資料存取，因此(理論上)可以兼容各種資料庫，在本系列中將會使用SQLite作為資料庫，若要使用其他資料庫，可以自行查詢[SQLAlchemy的文件](https://docs.sqlalchemy.org/en/20/core/engines.html#database-urls)。

:::warning
:warning: 由於SQLModel的關係，本系列文章使用的SQLAlchemy版本為1.4，與目前最新版本的2.0會有些許差異，在查詢資料時還請特別注意。
:::

## 貳、架構
### 一、頁面
 - 主頁面
     - 重點商品
     - 搜尋列
     - 個人資料
     - 購物車
     - 登入
 - 搜尋頁
     - 商品列表
         - 圖像顯示
         - 清單顯示
     - 過濾功能
     - 商品簡述
 - 商品頁
     - 商品圖片
     - 商品資料
     - 加入購物車
 - 個人資料
     - 更改密碼
     - 購買清單
 - 購物車頁面
     - 移除商品
     - 更改數量
     - 結帳
 - 管理頁面
     - 訂單列表
     - 更新狀態
     - 上架商品
     - 下架商品

### 二、API
 - GET
     - 重點商品
         - 列表[商品]
         - `200 OK`
     - 關鍵字搜尋
         - 列表[商品]
         - `200 OK`
     - 取得商品資料
         - 商品
         - `200 OK`
         - `404 Not Found` 商品不存在
     - 購買紀錄
         - 列表[購買紀錄]
         - `200 OK`
         - `401 Unauthorized` 未登入
     - 購物車
         - 列表[字典[商品, 整數]]
         - `200 OK`
         - `401 Unauthorized` 未登入
     - 個人資料
         - 使用者
         - `200 OK`
         - `401 Unauthorized` 未登入
     - 訂單列表
         - 列表[購買紀錄]
         - `200 OK`
         - `401 Unauthorized` 未登入
 - POST
     - 登入
         - 傳送
             - 帳號
             - 密碼
         - 回傳
             - `200 OK` 登入成功
             - JSON Web Tokens(JWT)
             - `403 Forbidden` 帳號密碼錯誤
     - 結帳
         - 回傳
             - `200 OK` 結帳成功
             - `400 Bad Request` 商品資料錯誤
             - `401 Unauthorized` 未登入
     - 上架商品
         - 傳送
             - 商品
         - 回傳
             - `201 Created` 上架成功
             - `401 Unauthorized` 未登入
             - `403 Forbidden` 權限不足
 - PUT
     - 新增至購物車
         - 傳送
             - 商品
             - 數量
         - 回傳
             - `200 OK` 新增成功
             - `401 Unauthorized` 未登入
             - `404 Not Found` 商品不存在
     - 更改數量
         - 傳送
             - 商品
             - 數量
         - 回傳
             - `200 OK` 更改成功
             - `401 Unauthorized` 未登入
             - `404 Not Found` 商品不存在
     - 更改密碼
         - 傳送
             - 舊密碼
             - 新密碼
         - 回傳
             - `200 OK` 更改成功
             - `401 Unauthorized` 未登入
             - `403 Forbidden` 舊密碼錯誤
     - 更新訂單狀態
         - 傳送
             - 購買紀錄編號
             - 狀態
         - 回傳
             - `200 OK` 更新成功
             - `401 Unauthorized` 未登入
             - `403 Forbidden` 權限不足
 - DELETE
     - 自購物車移除
         - 傳送
             - 商品UUID
         - 回傳
             - `204 No Content` 移除成功
             - `401 Unauthorized` 未登入
             - `404 Not Found` 商品不存在
     - 下架商品
         - 傳送
             - 商品UUID
         - 回傳
             - `204 No Content` 下架成功
             - `401 Unauthorized` 未登入
             - `403 Forbidden` 權限不足
             - `404 Not Found` 商品不存在

### 三、資料結構
 - 商品
     - UUID
         - 字串
     - 剩餘數量
         - 整數
     - 標題
         - 字串
     - 簡述
         - 字串
     - 價錢
         - 整數
     - 是否為重點商品
         - 布林
     - 圖片張數
         - 整數
 - 使用者
     - UUID
         - 字串
     - 名稱
         - 字串
     - 密碼
         - 字串(加密)
     - 電話號碼
         - 字串
     - 密碼更改時間
         - 整數
     - 購買紀錄
         - 列表[整數]
     - 購物車
         - 列表[字典[字串, 整數]]
     - 是否為管理員
         - 布林
 - 購買紀錄
     - 編號
         - 整數
     - 商品列表
         - 列表[字典[字串, 整數]]
     - 金額
         - 整數
     - 狀態
         - 整數
     - 購買人
         - 字串
 - JSON Web Tokens(JWT)
     - 使用者UUID
         - 字串
     - IP(加密)
         - 字串
     - 密碼更改時間
         - 整數
     - 過期時間: 1天

---
下一篇: [我還沒想好標題](https://hackmd.io/@zhihao/shopping-site-d1)
